<!doctype html>
<html lang="en">
<head>
<title>Monitor</title>
<meta charset="utf-8">
<link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>

<h1>Monitor</h1>

Firmware version:
<div id="version" name="version">?</div>

Uptime:
<div id="uptime" name="uptime">?</div>

Packets received:
<div id="packets" name="packets">?</div>

Frames per second:
<div id="fps" name="fps">?</div>

<div class="nav-button">
  <a href="/index.html"><button>Back to Main</button></a>
</div>

<script>
  async function updateContent() {
    const response = await fetch("json");
    const data = await response.json();
    console.log(data);
    document.getElementById("version").innerHTML = data["version"];
    document.getElementById("uptime").innerHTML = data["uptime"];
    document.getElementById("packets").innerHTML = data["packets"];
    document.getElementById("fps").innerHTML = data["fps"];
  }
  updateContent();
  
  // Auto-refresh every 5 seconds
  setInterval(updateContent, 5000);
</script>

</body>
</html>