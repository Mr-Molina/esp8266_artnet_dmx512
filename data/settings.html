<!doctype html>
<html lang="en">
<head>
<title>Settings</title>
<meta charset="utf-8">
<link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>

<h1>Settings</h1>
<form id="settings-form" method="post" action="json">

    <div class="field">
        <label for="universe">Universe (1-32767):</label>
        <input type="number" id="universe" name="universe" value="?" min="1" max="32767" required>
    </div>

    <div class="field">
        <label for="channels">Channels (1-512):</label>
        <input type="number" id="channels" name="channels" value="?" min="1" max="512" required>
        <small>Total number of DMX channels to transmit (not the starting channel)</small>
    </div>

    <div class="field">
        <label for="delay">Delay (ms) (1-1000):</label>
        <input type="number" id="delay" name="delay" value="?" min="1" max="1000" required>
    </div>

    <div class="field">
        <button type="submit">Save</button>
    </div>
</form>

<div class="nav-button">
  <a href="/index.html"><button>Back to Main</button></a>
</div>

<script>
  async function updateContent() {
    const response = await fetch("json");
    const data = await response.json();
    console.log(data);
    document.getElementById("universe").value = data["universe"];
    document.getElementById("channels").value = data["channels"];
    document.getElementById("delay").value = data["delay"];
  }
  updateContent();
</script>

</body>
</html>